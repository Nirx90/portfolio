<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>TODO</title>
        <link rel="stylesheet" href="/style.css">
        </link>
        <script src="https://kit.fontawesome.com/a8995c637e.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
            integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
            integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <style>
            body{
    font-family: sans-serif;
    display: flex;
    align-items: center;
    justify-content: center;
}

.Dbutton{
    border: none;
    margin: 0;
    padding: 0;
}
.app{
    width: 300px;
    height: 500px;
    border: 5px solid#abcea1;
    border-radius: 8px;
    padding: 15px;
    /* background-color: #fff; */
    /* background-color: #d19c9c; */
    overflow-y: scroll;
    margin-top: 50px;
}
.app::-webkit-scrollbar{
    width: 0 !important;
}

#msg{
    color: red;
}

#addNew {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background-color: rgba(171,206,161,0.35);
    padding: 5px 10px;
    border-radius: 5px;
    cursor: pointer;
}

.fa-plus{
    background-color: #abcea1;
    padding: 3px;
    border-radius: 3px;
}


#tasks div{
    background-color: rgba(171,206,161,0.35);
    border: 3px solid#abcea1;
    padding: 5px;
    border-radius: 6px;
    display: grid;
    gap: 4px;
}

#tasks{
    display: grid;
    gap: 14px;
}

.options{
    justify-self: center;
    display: flex;
    gap: 20px;
}

.options i{
    cursor: pointer;
}
        </style>
    </head>

    <body>
        <div class="app">
            <h4 class="mb-3">Todo App </h4>
            <div id="addNew" data-bs-toggle="modal" data-bs-target="#form">
                <span>Add New Task</span>
                <i class="fa-solid fa-plus"></i>
            </div>
            <h5 class="text-center my-3">Tasks</h5>

            <!-- Button trigger modal -->


            <!-- Modal -->
            <form class="modal fade" id="form" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
                aria-labelledby="staticBackdropLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="staticBackdropLabel">Add New Task</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <p>Task Title</p>
                            <input class="form-control" type="text" name="" id="textInput">
                            <div id="msg"></div>
                            <br>
                            <p>Due Date</p>
                            <input class="form-control" type="date" name="" id="dateInput">
                            <div id="msg"></div>
                            <br>
                            <p>Description</p>
                            <textarea class="form-control" name="" id="textarea" cols="30" rows="5"></textarea>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="submit" id="add" class="btn btn-primary">Add</button>
                        </div>
                    </div>
                </div>
            </form>

            <div id="tasks">
                <div class="box">
                    <span class="fw-bold">Task 1</span>
                    <span class="small text-secondary">18-07-2024</span>
                    <p>Do Programming Hard</p>

                    <span class="options">

                        <button type="button" class="Dbutton" data-bs-toggle="modal" data-bs-target="#reedit">
                            <i class="fa-solid fa-pen-to-square"></i>
                        </button>
                        <button type="button" class="Dbutton" data-bs-toggle="modal" data-bs-target="#exampleModal">
                            <i class="fa-solid fa-trash-can"></i>
                        </button>

                    </span>
                </div>
            </div>

            <!-- Button trigger modal -->


            <!-- Modal -->
            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="exampleModalLabel">Warning</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body fs-4">
                            This is By Defalut task. You can't Delete it.
                        </div>

                    </div>
                </div>
            </div>


            <div class="modal fade" id="reedit" tabindex="-1" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="exampleModalLabel">Warning</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body fs-4">
                            This is By Defalut task. You can't Edit it.
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </body>
    <script>
        let form = document.getElementById("form");
let textInput = document.getElementById("textInput");
let msg = document.getElementById("msg");
let dateInput = document.getElementById("dateInput");
let textarea = document.getElementById("textarea");
let tasks = document.getElementById("tasks")
let add = document.getElementById("add")


form.addEventListener('submit',(e)=>{
    e.preventDefault();
    formValidation();
})

let formValidation = ()=>{
    if(textInput.value === ""){
        console.log('failure');
        msg.innerHTML = "Task cannot be Blank";
    }else{
        console.log('Success');
        msg.innerHTML = "";
        acceptData();
        add.setAttribute("data-bs-dismiss","modal");
        add.click();
    }
};

let data = {}

let acceptData = ()=>{
    data["text"] = textInput.value;
    data["date"] = dateInput.value;
    data["description"] = textarea.value;
    console.log(data);
    createTasks();
}

let createTasks = ()=>{
    tasks.innerHTML += `<div >
                    <span class="fw-bold">${data.text}</span>
                    <span class="small text-secondary">${data.date}</span>
                    <p>${data.description

                    }</p>

                    <span class="options">
                    <i class="fa-solid fa-pen-to-square"></i>
                    <i onClick="deleteTask(this)" class="fa-solid fa-trash-can"></i>
                    </span>
                </div>`;
    resetForm();
}

let deleteTask = (e)=>{
    e.parentElement.parentElement.remove();
}

let resetForm = (e)=>{
    textInput.value = "";
    dateInput.value = "";
    textarea.value = ""
}
    </script>


</html>